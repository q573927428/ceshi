// utils/valueCalculator.js

export const cardBaseValues = {
    100028: 600, 100372: 300, 100479: 600, 100477: 300, 100476: 300, 100478: 300, 100480: 300, 100498: 300, 100496: 200, 100526: 300,
    100030: 300, 100016: 300, 100035: 300, 100023: 300, 100027: 300, 100013: 300, 100451: 300, 100619: 300, 100615: 300, 100337: 300,
    100685: 300, 100670: 300, 100692: 300, 100649: 300, 100787: 300, 100807: 300, 100808: 300, 100771: 200, 100794: 200, 100704: 300,
    100703: 300, 100708: 300, 100709: 300, 100792: 300, 100799: 300, 100785: 200, 100449: 100, 100604: 100, 100443: 100, 100620: 100,
    100021: 100, 102001: 100, 100648: 100, 100074: 100, 102012: 100, 100574: 100, 100741: 100, 100589: 100, 100618: 100, 100671: 100,
    100645: 100, 100474: 100, 100022: 100, 100677: 100, 100784: 100, 100630: 100, 100534: 100, 100647: 100, 100452: 100, 100701: 100,
    100705: 100, 100796: 100, 100791: 100, 100802: 100, 100805: 100, 100783: 100, 100769: 100, 100687: 100, 100072: 50, 100450: 50,
    100358: 50, 100020: 50, 100616: 50, 100034: 50, 100090: 50, 100024: 50, 100003: 50, 100631: 50, 100519: 50, 100582: 50,
    100553: 50, 100788: 50, 100689: 50, 100653: 50, 100683: 50, 100707: 50, 100494: 50, 102016: 50, 100019: 50, 100702: 50,
    100524: 50, 100790: 50, 100795: 100, 100801: 100, 100800: 100, 100691: 100, 100793: 100
};

export function getCardValue(card) {
  const defaultCardBaseValue = 10;
  const baseValue = cardBaseValues[card.hero_id] ?? defaultCardBaseValue;
  const advanceRate = 0.3;
  return Math.round(baseValue * (1 + Math.min(card.advance_num, 5) * advanceRate));
}

export const weaponValues =  {
    '别鸣': {
        红: { "骁锐": 10000, "奔袭": 5000, other: 3000 },
        粉: { "骁锐": 3000, "奔袭": 2000, other: 1000 },
        蓝: { "骁锐": 200, "奔袭": 100, other: 0 },
    },
    '博浪': {
        红: { "艮止": 10000, "机敏": 5000, other: 3000 },
        粉: { "艮止": 3000, "机敏": 2000, other: 1000 },
        蓝: { "艮止": 200, "机敏": 100, other: 0 },
    },
    '比翼': {
        红: { "仁心": 10000, "天资": 5000, other: 3000 },
        粉: { "仁心": 3000, "天资": 2000, other: 1000 },
        蓝: { "仁心": 200, "天资": 100, other: 0 },
    },
    '承影': {
        红: { "炫惑": 10000, "天资": 5000, other: 3000 },
        粉: { "炫惑": 3000, "天资": 2000, other: 1000 },
        蓝: { "炫惑": 200, "天资": 100, other: 0 },
    },
    '沧海': {
        红: { "奔袭": 10000, "骁锐": 5000, other: 3000 },
        粉: { "奔袭": 3000, "骁锐": 2000, other: 1000 },
        蓝: { "奔袭": 200, "骁锐": 100, other: 0 },
    },
    '大将': {
        红: { "主次": 10000, "稳固": 5000, other: 3000 },
        粉: { "主次": 3000, "稳固": 2000, other: 1000 },
        蓝: { "主次": 200, "稳固": 100, other: 0 },
    },
    '大橹': {
        红: { "主次": 10000, "稳固": 5000, other: 3000 },
        粉: { "主次": 3000, "稳固": 2000, other: 1000 },
        蓝: { "主次": 200, "稳固": 100, other: 0 },
    },
    '惊鲵': {
        红: { "至策": 10000, "副次": 5000, other: 3000 },
        粉: { "至策": 3000, "副次": 2000, other: 1000 },
        蓝: { "至策": 200, "副次": 100, other: 0 },
    },
    '旌阳万仞': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '钜黍': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '锟铻': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '龙鳞': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '冥山勾月': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '铭鸿': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '屈卢': {
        红: { "奔袭": 10000, "陷阵": 5000, other: 3000 },
        粉: { "奔袭": 3000, "陷阵": 2000, other: 1000 },
        蓝: { "奔袭": 200, "陷阵": 100, other: 0 },
    },
    '戚': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '千钧': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '仁风': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '少府': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '神锋': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '彤素': {
        红: { "英勇": 10000, "至策": 5000, other: 3000 },
        粉: { "英勇": 3000, "至策": 2000, other: 1000 },
        蓝: { "英勇": 200, "至策": 100, other: 0 },
    },
    '泰阿': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '螣蛇': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '乌号': {
        红: { "熟虑": 10000, "亢厉": 5000, other: 3000 },
        粉: { "熟虑": 3000, "亢厉": 2000, other: 1000 },
        蓝: { "熟虑": 200, "亢厉": 100, other: 0 },
    },
    '悬翦': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '徐氏匕首': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '貅猊': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '星汉': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '游飘': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '掩日': {
        红: { "熟虑": 10000, "破敌": 5000, other: 3000 },
        粉: { "熟虑": 3000, "破敌": 2000, other: 1000 },
        蓝: { "熟虑": 200, "破敌": 100, other: 0 },
    },
    '元戎': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '狰角枪': {
        红: { "陷阵": 10000, "副次": 5000, other: 3000 },
        粉: { "陷阵": 3000, "副次": 2000, other: 1000 },
        蓝: { "陷阵": 200, "副次": 100, other: 0 },
    },
    '真刚': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    },
    '障日': {
        红: { "主次": 10000, "副次": 5000, other: 3000 },
        粉: { "主次": 3000, "副次": 2000, other: 1000 },
        蓝: { "主次": 200, "副次": 100, other: 0 },
    }
};

export function getWeaponValue(weapon) {
  const name = weapon?.name;
  const color = weapon?.color;
  const featureName = weapon?.feature?.[0]?.[0];
  if (!name || !color || !featureName) return 0;
  const weaponData = weaponValues[name];
  if (!weaponData) return 0;
  const colorData = weaponData[color];
  if (!colorData) return 0;
  return colorData[featureName] ?? colorData.other ?? 0;
}
